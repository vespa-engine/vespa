# Copyright 2017 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
vespa_define_module(
    DEPENDS
    vespadefaults
    storageapi
    fastos
    fastlib_fast
    metrics
    config_cloudconfig
    configdefinitions
    vespalog
    messagebus
    documentapi
    document
    vespalib
    vdslib
    persistence
    storageframework

    EXTERNAL_DEPENDS
    ${VESPA_GLIBC_RT_LIB}

    LIBS
    src/vespa/storage
    src/vespa/storage/bucketdb
    src/vespa/storage/common
    src/vespa/storage/common/hostreporter
    src/vespa/storage/config
    src/vespa/storage/distributor
    src/vespa/storage/distributor/bucketdb
    src/vespa/storage/distributor/maintenance
    src/vespa/storage/distributor/operations
    src/vespa/storage/distributor/operations/external
    src/vespa/storage/distributor/operations/idealstate
    src/vespa/storage/frameworkimpl/component
    src/vespa/storage/frameworkimpl/status
    src/vespa/storage/frameworkimpl/thread
    src/vespa/storage/persistence
    src/vespa/storage/persistence/filestorage
    src/vespa/storage/storageserver
    src/vespa/storage/storageserver/rpc
    src/vespa/storage/storageutil
    src/vespa/storage/tools
    src/vespa/storage/visiting

    TEST_DEPENDS
    messagebus_messagebus-test
    vdstestlib
    TEST_EXTERNAL_DEPENDS
    ${VESPA_ATOMIC_LIB}

    TESTS
    src/tests
    src/tests/bucketdb
    src/tests/common
    src/tests/common/hostreporter
    src/tests/distributor
    src/tests/frameworkimpl/status
    src/tests/persistence
    src/tests/persistence/common
    src/tests/persistence/filestorage
    src/tests/storageserver
    src/tests/storageserver/rpc
    src/tests/visiting
)
