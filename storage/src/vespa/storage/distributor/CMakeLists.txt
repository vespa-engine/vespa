# Copyright 2017 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
vespa_add_library(storage_distributor
    SOURCES
    distributor.cpp
    distributormetricsset.cpp
    visitormetricsset.cpp
    persistence_operation_metric_set.cpp
    idealstatemetricsset.cpp
    operationowner.cpp
    distributorcomponent.cpp
    statechecker.cpp
    persistencemessagetracker.cpp
    messagetracker.cpp
    externaloperationhandler.cpp
    bucketlistmerger.cpp
    idealstatemanager.cpp
    statecheckers.cpp
    bucketdbupdater.cpp
    pendingmessagetracker.cpp
    pendingclusterstate.cpp
    nodeinfo.cpp
    sentmessagemap.cpp
    operationtargetresolver.cpp
    operationtargetresolverimpl.cpp
    throttlingoperationstarter.cpp
    blockingoperationstarter.cpp
    distributormessagesender.cpp
    clusterinformation.cpp
    activecopy.cpp
    statusreporterdelegate.cpp
    bucketgctimecalculator.cpp
    distributor_host_info_reporter.cpp
    latency_statistics_provider.cpp
    ownership_transfer_safe_time_point_calculator.cpp
    managed_bucket_space.cpp
    managed_bucket_space_component.cpp
    managed_bucket_space_repo.cpp
    operation_sequencer.cpp
    $<TARGET_OBJECTS:storage_distributoroperation>
    $<TARGET_OBJECTS:storage_distributoroperationexternal>
    $<TARGET_OBJECTS:storage_distributoroperationidealstate>
    $<TARGET_OBJECTS:storage_distributormaintenance>
    $<TARGET_OBJECTS:storage_distributor_bucketdb>
    INSTALL lib64
    DEPENDS
    storage
    AFTER
    storage_storageconfig
)
