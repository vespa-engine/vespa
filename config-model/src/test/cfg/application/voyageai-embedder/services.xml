<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright Vespa.ai. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root. -->
<services version="1.0">
    <container id="container" version="1.0">
        <search />
        <document-api />

        <!-- VoyageAI Embedder with all configuration options -->
        <component id="voyage-full" type="voyage-ai-embedder">
            <model>voyage-3</model>
            <api-key-secret-ref>voyage_api_key</api-key-secret-ref>
            <endpoint>https://api.voyageai.com/v1/embeddings</endpoint>
            <timeout>60000</timeout>
            <max-retries>5</max-retries>
            <default-input-type>query</default-input-type>
            <auto-detect-input-type>false</auto-detect-input-type>
            <normalize>true</normalize>
            <truncate>true</truncate>
            <pool-size>10</pool-size>
            <cache-size>2000</cache-size>
        </component>

        <!-- VoyageAI Embedder with minimal configuration -->
        <component id="voyage-minimal" type="voyage-ai-embedder">
            <api-key-secret-ref>voyage_key</api-key-secret-ref>
        </component>
    </container>
</services>
