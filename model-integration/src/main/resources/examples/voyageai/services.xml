<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright Vespa.ai. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root. -->
<!-- Example: VoyageAI Embedder Configuration -->
<services version="1.0">
  <container id="default" version="1.0">
    <search />
    <document-api />

    <!-- Basic VoyageAI Embedder -->
    <component id="voyage-embedder" type="voyage-ai-embedder">
      <model>voyage-3</model>
      <api-key-secret-ref>voyage_api_key</api-key-secret-ref>
    </component>

    <!-- Code Search Embedder -->
    <component id="code-embedder" type="voyage-ai-embedder">
      <model>voyage-code-3</model>
      <api-key-secret-ref>voyage_api_key</api-key-secret-ref>
    </component>

    <!-- High-Performance Configuration -->
    <component id="voyage-fast" type="voyage-ai-embedder">
      <model>voyage-3-lite</model>
      <api-key-secret-ref>voyage_api_key</api-key-secret-ref>
      <cache-size>10000</cache-size>
      <pool-size>20</pool-size>
      <timeout>60000</timeout>
    </component>

    <!-- Query-Optimized Embedder -->
    <component id="voyage-query" type="voyage-ai-embedder">
      <model>voyage-3</model>
      <api-key-secret-ref>voyage_api_key</api-key-secret-ref>
      <default-input-type>query</default-input-type>
      <auto-detect-input-type>false</auto-detect-input-type>
    </component>
  </container>

  <content id="content" version="1.0">
    <documents>
      <document type="article" mode="index" />
    </documents>
    <nodes>
      <node hostalias="node1" distribution-key="0" />
    </nodes>
  </content>
</services>
